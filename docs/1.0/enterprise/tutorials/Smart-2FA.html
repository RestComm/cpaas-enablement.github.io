<!DOCTYPE html>
<html lang="en" class="enterprise-persona">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- In order to avoid flashing of wrong brand we keep the title empty at first and then fill it dynamically -->
    <title data-custom-title="Smart 2FA - Restcomm Docs"></title>
    <link rel="canonical" href="
      /docs/1.0/enterprise/tutorials/Smart-2FA.html
    ">
    <meta name="description" content="Secure online transactions, account sign-ins, mobile apps, websites and more by providing two-factor authentication (2FA) with One-Time Passwords to your users.">
    <meta name="keywords" content="2fa, two-factor authentication, secure online transactions, otp, one-time passwords, #{&quot;spsParm&quot;:&quot;application_name&quot;,&quot;rcText&quot;:&quot;CPaaS&quot;,&quot;defaultText&quot;:&quot;$INFER_FROM_DOMAIN&quot;} two-factor authentication">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="icon" type="image/png" href=""/>
    <link rel="stylesheet" href="../../../../_/css/site.css" title="antora-stylesheet">
    <!-- Right now for demo purposes I'm using google icons, but once we finalize design might be different -->
    <!-- Not using it for now
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
    -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
      </head>
  <body class="article" style="display: none">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <!-- TODO: we could simplify to this after reverse proxy changes are rolled out, but we need to make sure that
           it won't break if we change playbook configuration
      <a class="navbar-item header-logo-link" href="/docs">
      -->
      <a class="navbar-item header-logo-link" href="/docs/">
      </a>
    </div>
  </nav>
  <!-- TODO: need to improve the variable used to decide displaying this nav -->
  <nav class="navbar-enterprise">
    <div class="navbar-enterprise-button-container">
      <button class="navigation-toggle icon-custom-font-right">
      </button>
      <!--
      <span class="icon-custom-font-x"><span class="icon-custom-font-back-hamburger"><span class="icon-custom-font-left"><span class="icon-custom-font-right">
      -->
      <button class="navbar-enterprise-burger icon-custom-font-back-hamburger">
      </button>
    </div>
    <div class="navbar-enterprise-container">



        <a class="navbar-enterprise-item" href="/docs/api/overview.html">Reference</a>
        <a class="navbar-enterprise-item" href="/docs/turnkey-applications/index.html">Turnkey Applications</a>
        <a class="navbar-enterprise-item" href="/docs/tutorials/index.html">Tutorials</a>
        <a class="navbar-enterprise-item" href="/docs/visual-designer/index.html">Visual Designer</a>


    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="docs" data-version="1.0" >
  <aside class="navigation">
    <div class="panels">
  <div class="navigation-menu is-active" data-panel="menu">
    <nav class="nav-menu">
      <!-- Not applicable to our Enterprise docs
    <h3 class="title"><a href="../../index.html">docs</a></h3>
    -->
        <ul class="nav-list">
          <ul class="nav-list">
            <li id="RESTAPI" class="nav-item" data-depth="1">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              icomoon3-font-reference-api
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/overview.html">REST API</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="Overview" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/overview.html">Overview</a>

            </span>
              </div>
                          </li>
            <li id="APIEndpoint" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/overview.html#_api_endpoint">API Endpoint</a>

            </span>
              </div>
                          </li>
            <li id="Authentication" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/overview.html#_authentication">Authentication</a>

            </span>
              </div>
                          </li>
            <li id="Requests" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/overview.html#_requests">Requests</a>

            </span>
              </div>
                          </li>
            <li id="Responses" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/overview.html#_responses">Responses</a>

            </span>
              </div>
                          </li>
            <li id="Paging" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/overview.html#_paging">Paging</a>

            </span>
              </div>
                          </li>
            <li id="ReasonCodesDictionary" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/reasoncodes.html">Reason Codes Dictionary</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="ManagementAPIs" class="nav-item" data-depth="1">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              icomoon3-font-reference-management
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/management-apis-overview.html">Management APIs</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="Accounts" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/account-api.html">Accounts</a>

            </span>
              </div>
                          </li>
            <li id="Applications" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/applications-api.html">Applications</a>

            </span>
              </div>
                          </li>
            <li id="Clients" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/clients-api.html">Clients</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="CreateaClient" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/clients-api.html#_create_a_client">Create a Client</a>

            </span>
              </div>
                          </li>
            <li id="DeleteaClient" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/clients-api.html#_delete_a_client">Delete a Client</a>

            </span>
              </div>
                          </li>
            <li id="ChangeClient&#8217;sPassword" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/clients-api.html#_change_client_s_password">Change Client&#8217;s Password</a>

            </span>
              </div>
                          </li>
            <li id="GetaListofAvailableClients" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/clients-api.html#_get_list_of_available_clients">Get a List of Available Clients</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="IncomingPhoneNumbers" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html">Incoming Phone Numbers</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="IncomingPhoneNumberInstanceResource" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_incomingphonenumber_instance_resource">IncomingPhoneNumber Instance Resource</a>

            </span>
              </div>
                          </li>
            <li id="IncomingPhoneNumbersListResource" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_incomingphonenumbers_list_resource">IncomingPhoneNumbers List Resource</a>

            </span>
              </div>
                          </li>
            <li id="LocalIncomingPhoneNumberFactoryResource" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_local_incomingphonenumber_factory_resource">Local IncomingPhoneNumber Factory Resource</a>

            </span>
              </div>
                          </li>
            <li id="Toll-FreeIncomingPhoneNumberFactoryResource" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_toll_free_incomingphonenumber_factory_resource">Toll-Free IncomingPhoneNumber Factory Resource</a>

            </span>
              </div>
                          </li>
            <li id="MobileIncomingPhoneNumberFactoryResource" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_mobile_incomingphonenumber_factory_resource">Mobile IncomingPhoneNumber Factory Resource</a>

            </span>
              </div>
                          </li>
            <li id="Attachaphonenumbertoanapplication" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_attach_a_phone_number_to_an_application">Attach a phone number to an application</a>

            </span>
              </div>
                          </li>
            <li id="Deleteaphonenumber" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_delete_a_phone_number">Delete a phone number</a>

            </span>
              </div>
                          </li>
            <li id="ListofPhoneNumbers" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_list_of_phone_numbers">List of Phone Numbers</a>

            </span>
              </div>
                          </li>
            <li id="IncomingPhoneNumberRegexSupport" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/incoming-phone-numbers-api.html#_incoming_phone_number_regex_support">Incoming Phone Number Regex Support</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="Notifications" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/notifications-api.html">Notifications</a>

            </span>
              </div>
                          </li>
            <li id="UsageRecords" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/usage-records-api.html">Usage Records</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="Voice" class="nav-item" data-depth="1">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              icomoon3-font-reference-voice
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/voice-category.html">Voice</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="Calls" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/calls-api.html">Calls</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="CallListResourceURI" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/calls-api.html#_call_list_resource_uri">Call List Resource URI</a>

            </span>
              </div>
                          </li>
            <li id="MakingaCall" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/calls-api.html#_making_a_call_to_a_sip_account">Making a Call</a>

            </span>
              </div>
                          </li>
            <li id="ModifyingLiveCalls" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/calls-api.html#_modifying_live_calls">Modifying Live Calls</a>

            </span>
              </div>
                          </li>
            <li id="Examples" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/calls-api.html#examples">Examples</a>

            </span>
              </div>
                          </li>
            <li id="ListFilter" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/calls-api.html#_list_filter">List Filter</a>

            </span>
              </div>
                          </li>
            <li id="PagingInformation" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/calls-api.html#_paging_information">Paging Information</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="ConferenceManagement" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/conferences-api.html">Conference Management</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="SupportedOperations" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/conferences-api.html#_supported_operations">Supported Operations</a>

            </span>
              </div>
                          </li>
            <li id="ConferenceListResourceURI" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/conferences-api.html#_conference_list_resource_uri">Conference List Resource URI</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="ConferenceParticipantsManagement" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/participants-api.html">Conference Participants Management</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="ParticipantsListResourceURI" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/participants-api.html#_participant_list_resource_uri">Participants List Resource URI</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="Recordings" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/recordings-api.html">Recordings</a>

            </span>
              </div>
                          </li>
            <li id="SIPReferSupport" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/SIP-Refer-Support.html">SIP Refer Support</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="SMS" class="nav-item" data-depth="1">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              icomoon3-font-reference-sms
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/sms-category.html">SMS</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="Messages" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/sms-api.html">Messages</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="SendSMS" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/sms-api.html#_send_sms">Send SMS</a>

            </span>
              </div>
                          </li>
            <li id="GetSMSList" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/sms-api.html#_get_sms_list">Get SMS List</a>

            </span>
              </div>
                          </li>
            <li id="GetsingleSMSInformation" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/sms-api.html#_get_single_sms_information">Get single SMS Information</a>

            </span>
              </div>
                          </li>
            <li id="SMSAttributes" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/sms-api.html#_sms_attributes">SMS Attributes</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="Email" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/email-api.html">Email</a>

            </span>
              </div>
                          </li>
              </ul>
            </li>
            <li id="RCML" class="nav-item" data-depth="1">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              icomoon3-font-reference-rcml
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/overview.html">RCML</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="Overview" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/overview.html">Overview</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="InteractingwithYourApplication" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/overview.html#_how_restcomm_interacts_with_your_application">Interacting with Your Application</a>

            </span>
              </div>
                          </li>
            <li id="RCMLVerbs" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/overview.html#_the_rcml_verbs">RCML Verbs</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="Dial" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/dial-rcml.html">Dial</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="Client" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/client-rcml.html">Client</a>

            </span>
              </div>
                          </li>
            <li id="Conference" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/conference-rcml.html">Conference</a>

            </span>
              </div>
                          </li>
            <li id="Number" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/number-rcml.html">Number</a>

            </span>
              </div>
                          </li>
            <li id="SIP" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/sip-rcml.html">SIP</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="Email" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/email-rcml.html">Email</a>

            </span>
              </div>
                          </li>
            <li id="Gather" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/gather-rcml.html">Gather</a>

            </span>
              </div>
                          </li>
            <li id="Say" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/say-rcml.html">Say</a>

            </span>
              </div>
                          </li>
            <li id="Play" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/play-rcml.html">Play</a>

            </span>
              </div>
                          </li>
            <li id="SMS" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/sms-rcml.html">SMS </a>

            </span>
              </div>
                          </li>
            <li id="Hangup" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/hangup-rcml.html">Hangup</a>

            </span>
              </div>
                          </li>
            <li id="Pause" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/pause-rcml.html">Pause</a>

            </span>
              </div>
                          </li>
            <li id="Redirect" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/redirect-rcml.html">Redirect</a>

            </span>
              </div>
                          </li>
            <li id="Record" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/record-rcml.html">Record</a>

            </span>
              </div>
                          </li>
            <li id="Reject" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../rcml/reject-rcml.html">Reject</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="TurnkeyAppsAPIs" class="nav-item" data-depth="1">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              icomoon3-font-reference-solutions
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../turnkey-applications/index.html">Turnkey Apps APIs</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="Smart2FA" class="nav-item is-current-page" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="Smart-2FA.html">Smart 2FA</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="SendOTPs" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="#_sending_one_time_passwords_api_reference">Send OTPs</a>

            </span>
              </div>
                          </li>
            <li id="VerifyOTPs" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="#_verifying_one_time_passwords_api_reference">Verify OTPs</a>

            </span>
              </div>
                          </li>
            <li id="ControlOTPs" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="#_control">Control OTPs</a>

            </span>
              </div>
                          </li>
            <li id="Limit" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="#_limit">Limit</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="CreateLimit" class="nav-item" data-depth="4">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="#_create_limit">Create Limit</a>

            </span>
              </div>
                          </li>
            <li id="UpdateLimit" class="nav-item" data-depth="4">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="#_update_limit">Update Limit</a>

            </span>
              </div>
                          </li>
            <li id="DeleteLimit" class="nav-item" data-depth="4">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="#_delete_limit">Delete Limit</a>

            </span>
              </div>
                          </li>
            <li id="GetListofLimits" class="nav-item" data-depth="4">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="#_get_list_of_limits">Get List of Limits</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
  </ul>
            </li>
            <li id="CallQueuing" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/call-queueing-api.html">Call Queuing</a>

            </span>
              </div>
                          </li>
            <li id="AutoAttendant" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html">Auto Attendant</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="User" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html#_user">User</a>

            </span>
              </div>
                          </li>
            <li id="Announcement" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html#_announcement">Announcement</a>

            </span>
              </div>
                          </li>
            <li id="AutoAttendantSystem" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html#_auto_attendant_system">Auto Attendant System</a>

            </span>
              </div>
                          </li>
            <li id="Menu" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html#_menu">Menu</a>

            </span>
              </div>
                          </li>
            <li id="Schedule" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html#_schedule">Schedule</a>

            </span>
              </div>
                          </li>
            <li id="PhoneNumber" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html#_phone_number">Phone Number</a>

            </span>
              </div>
                          </li>
            <li id="RCML" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              icomoon3-font-reference-rcml
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html#_rcml">RCML</a>

            </span>
              </div>
                          </li>
            <li id="UsageRecords" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/auto-attendant-api.html#_usage_records">Usage Records</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="NumberMasking" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/number-masking-api.html">Number Masking</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="Application" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/number-masking-api.html#_application">Application</a>

            </span>
              </div>
                          </li>
            <li id="MaskNumberPool" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/number-masking-api.html#_mask_numbers">Mask Number Pool</a>

            </span>
              </div>
                          </li>
            <li id="Context" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/number-masking-api.html#_context">Context</a>

            </span>
              </div>
                          </li>
            <li id="Participants" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/number-masking-api.html#_participants">Participants</a>

            </span>
              </div>
                          </li>
            <li id="Interactions" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/number-masking-api.html#_interactions">Interactions</a>

            </span>
              </div>
                          </li>
            <li id="UsageRecords" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/number-masking-api.html#_usage_records">Usage Records</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
            <li id="TaskRouter" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/task-router-api.html">Task Router</a>

            </span>
              </div>
                          </li>
            <li id="CampaignManager" class="nav-item" data-depth="2">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/campaign-manager-api.html">Campaign Manager</a>
                      <button class="nav-toggle"></button>
            </span>
              </div>
                <ul class="nav-list">
            <li id="CreateCampaign" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/campaign-manager-api.html#_create_campaign">Create Campaign</a>

            </span>
              </div>
                          </li>
            <li id="UpdateCampaign" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/campaign-manager-api.html#_update_campaign">Update Campaign</a>

            </span>
              </div>
                          </li>
            <li id="DeleteCampaign" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/campaign-manager-api.html#_delete_campaign">Delete Campaign</a>

            </span>
              </div>
                          </li>
            <li id="GetListofCampaigns" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/campaign-manager-api.html#_get_list_of_campaigns">Get List of Campaigns</a>

            </span>
              </div>
                          </li>
            <li id="GetSingleCampaign" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/campaign-manager-api.html#_get_single_campaign">Get Single Campaign</a>

            </span>
              </div>
                          </li>
            <li id="GetListofCredits" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/campaign-manager-api.html#_get_list_of_credits">Get List of Credits</a>

            </span>
              </div>
                          </li>
            <li id="GetSingleCredit" class="nav-item" data-depth="3">
              <div class="nav-flex-container">
            <span class="nav-flex-item-icon
              
              
              
              
              
              
            "></span>
                  <span>
              <a class="nav-link nav-flex-item-text" href="../api/campaign-manager-api.html#_get_single_credit">Get Single Credit</a>

            </span>
              </div>
                          </li>
  </ul>
            </li>
  </ul>
            </li>
  </ul>
          <ul class="nav-list">
              <ul class="nav-list">
                                                                          </ul>
              <ul class="nav-list">
                          <ul class="nav-list">
                                                              </ul>
              <ul class="nav-list">
                                                              </ul>
              <ul class="nav-list">
                                                                                                                                                  </ul>
                          <ul class="nav-list">
                                                  </ul>
              <ul class="nav-list">
                                                                                                              </ul>
                                      </ul>
              <ul class="nav-list">
              <ul class="nav-list">
                                                                          </ul>
                          <ul class="nav-list">
                          </ul>
              <ul class="nav-list">
              </ul>
                          </ul>
              <ul class="nav-list">
                          <ul class="nav-list">
                                                  </ul>
                          </ul>
              <ul class="nav-list">
              <ul class="nav-list">
                                                  </ul>
              <ul class="nav-list">
                                                                                                              <ul class="nav-list">
                                                  </ul>
              <ul class="nav-list">
                                                  </ul>
  </ul>
              <ul class="nav-list">
                                                              </ul>
              <ul class="nav-list">
                                                  </ul>
              <ul class="nav-list">
                                      </ul>
              <ul class="nav-list">
                                                                                                  </ul>
                          <ul class="nav-list">
                                                                                                              </ul>
              <ul class="nav-list">
              <ul class="nav-list">
                                                                          </ul>
              <ul class="nav-list">
                                                  </ul>
                                                  <ul class="nav-list">
                          </ul>
              <ul class="nav-list">
                                      </ul>
  </ul>
  </ul>
              <ul class="nav-list">
              <ul class="nav-list">
                          </ul>
              <ul class="nav-list">
                                                  </ul>
                                      <ul class="nav-list">
              </ul>
                                                                                      </ul>
  </ul>
  </ul>
    </nav>
  </div>
<div class="navigation-explore" data-panel="explore" style="display: none;">
  <div class="context">
    <span class="title">docs</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<!--

-->
<div class="toolbar" role="navigation" style="display: none;">
  <button class="navigation-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../../index.html">docs</a></li>
    <li class="crumb"><a href="../turnkey-applications/index.html">Enterprise:Turnkey Apps APIs</a></li>
    <li class="crumb"><a href="Smart-2FA.html">Enterprise:Smart 2FA</a></li>
  </ul>
</nav>
</div>
<article class="doc fix-anchor-links-position">
  <h1>Smart 2FA</h1>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Smart 2FA API lets you to send One Time Password (OTP) using SMS, Voice or email.</p>
</div>
<div class="paragraph">
<p>2FA allows you to add a second layer of security to your Application in addition to the user-id and password. The flexibility of using any channel makes sure your users get OTP even when they experience issue with one of the channels.</p>
</div>
<div class="paragraph">
<p><strong>User enters your application</strong></p>
</div>
<div class="paragraph">
<p>User visits your website or mobile app and attempts to log into his account, authorize a transaction, or perform another action that requires two-factor authentication from a new device.</p>
</div>
<div class="paragraph">
<p><strong>User is prompted to enter his phone number</strong></p>
</div>
<div class="paragraph">
<p><span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span> receives the login attempt and prompts the user to enter his phone number in order to authorize the new device.</p>
</div>
<div class="paragraph">
<p><strong>PIN code is sent to the user via SMS, phone call or email depending on API called</strong></p>
</div>
<div class="paragraph">
<p>Once the user enters a valid phone number, from your application you will need to ask <span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span> to send a verification code to that phone number by using the HTTP REST API Call Below.</p>
</div>
<div class="paragraph">
<p><strong>Categories</strong></p>
</div>
<div class="paragraph">
<p>2FA can be broadly classified into four categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="Smart-2FA.html#_sending_one_time_passwords_api_reference"><strong>Send</strong></a><br></p>
</li>
<li>
<p><a href="Smart-2FA.html#_verifying_one_time_passwords_api_reference"><strong>Verify</strong></a><br></p>
</li>
<li>
<p><a href="Smart-2FA.html#_control"><strong>Control</strong></a><br></p>
</li>
<li>
<p><a href="Smart-2FA.html#_session_detail_record_sdr"><strong>Session Detail Record</strong></a><br></p>
</li>
<li>
<p><a href="Smart-2FA.html#_limit"><strong>Limit</strong></a><br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sending_one_time_passwords_api_reference"><a class="anchor" href="#_sending_one_time_passwords_api_reference"></a>Sending One-Time Passwords - API Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sending a verification code requires basic authorization that includes your account SID and auth token. Below is the format you have to use in order to send a verification code to the user&#8217;s phone number.</p>
</div>
<div class="sect2">
<h3 id="_base_resource_uri"><a class="anchor" href="#_base_resource_uri"></a>Base Resource URI</h3>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect2">
<h3 id="_verification_code_resource_uri"><a class="anchor" href="#_verification_code_resource_uri"></a>Verification Code Resource URI</h3>
<div class="paragraph">
<p>/2fa/send</p>
</div>
</div>
<div class="sect2">
<h3 id="_supported_operations"><a class="anchor" href="#_supported_operations"></a>Supported Operations</h3>
<div class="paragraph">
<p>HTTP POST: Send a verification code through SMS, phone call or email to the specified destination.</p>
</div>
</div>
<div class="sect2">
<h3 id="_request_parameters"><a class="anchor" href="#_request_parameters"></a>Request Parameters</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service (Required)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of your service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">from (Required)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The source address that is making a call, or sending the SMS or email containing the verification code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to (Required)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The destination address to send the OTP message containing the verification code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">body (Required)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The content of the OTP message. Use {code} as a placeholder for the location of the verification code in your SMS content. This {code} will be replaced automatically with a random code generated by the system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">channel (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A method for sending OTP message. There are 3 options: sms, call, email. If not passed, default is sms.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTP message will be sent on behalf of given accountSid. The accountSid has to be valid sub-account.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subject (Required in email channel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email subject for the OTP message, it&#8217;s required only in email channel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">language (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text-to-Speech (TTS) language for announcing OTP message over call channel. AWS Polly is default TTS engine. To use another engine, use format like: &lt;engine&gt;.&lt;language-code&gt; for example: awspolly.ja-JP. More information about language, please visit the <a href="../rcml/say-rcml.html">Say-RCML</a> documentation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repeat (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of times the TTS OTP message will be played. It&#8217;s only required in call channel, default value is 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">length (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of digits for OTP. By default, 6 digits number will be generated for OTP code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">voice (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Man or woman voice for TTS call channel.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timeout (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in seconds for which OTP is valid. Post timeout period, OTP is automatically canceled if still not successfully verified. Default is 300 seconds.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guardTime (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If send is called again to send new OTP passing same service and to parameter while previous OTP generated is still valid, the previous OTP is Canceled and new OTP is sent. However if guardTime (in seconds) parameter is passed in send request, old OTP is valid for guardTime and then cancelled. This is to accomodate scenarios where the underlying SMS, Call or email channel may be slow to deliver the message and by the time new OTP is generated, user might have received old OTP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limits (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key-Value pair Limits to restrict on number of OTPs generated based on criteria that developers select.  For further details please look at <a href="Smart-2FA.html#_limit">Limit section</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_response"><a class="anchor" href="#_response"></a>Response</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responde Body</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sub error code for the request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message for describing sub error code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unique OTP request identifier for the OTP request.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_response_parameters"><a class="anchor" href="#_response_parameters"></a>Response Parameters</h4>
<div class="paragraph">
<p>Send API will return Error Code and corresponding HTTP Error as mentioned in <a href="#_common_response_error_code">Common Response Error Code</a> In addition below are the Errors that it can return</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">453</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">404</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Too many OTP request to same destination Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTP is sent to same destination number within 1 min of previously sent. 2FA system limits number of OTP sent to same number to maximum one per min.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">497</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">409</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid Limits. There is no Limits with name "XXX"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send API is called with Limits name that is not defined.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send API</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_example"><a class="anchor" href="#_example"></a>Example</h3>
<div class="listingblock">
<div class="content">
<pre>{
    "service" : "2FA", // the name of your service
    "from" : "+XXXXXXXXX", // the SMS sender phone number
    "to" : "+XXXXXXXXXX", // the SMS recepient phone number
    "body": "Your verification code is: \{code}" // SMS body, containing the verification code
}</pre>
</div>
</div>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST \
  <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/send">https://$DOMAIN/2fa/send</span> \
  --user  ' \{your_account_SID}:\{your_account_token}' \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -d '{
    "service" : "2FA",
    "from" : "XXXXXXXXXXX",
    "to" : "ZZZZZZZZZZZ",
    "body": "Your verification code is: \{code}"
  }'</pre>
</div>
</div>
<div class="paragraph">
<p>If send is successful, below is the response returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"code":200,"message":"OK","requestID":"OTPYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY"}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_verifying_one_time_passwords_api_reference"><a class="anchor" href="#_verifying_one_time_passwords_api_reference"></a>Verifying One-Time Passwords - API Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>User receives the one-time PIN code via SMS, phone call or email, gets back to your application and enters it in order to complete the verification process. Verifying the code is simple and requires basic authorization that includes your account SID and auth token.</p>
</div>
<div class="sect2">
<h3 id="_base_resource_uri_2"><a class="anchor" href="#_base_resource_uri_2"></a>Base Resource URI</h3>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect2">
<h3 id="_verification_code_resource_uri_2"><a class="anchor" href="#_verification_code_resource_uri_2"></a>Verification Code Resource URI</h3>
<div class="paragraph">
<p>/2fa/verify</p>
</div>
</div>
<div class="sect2">
<h3 id="_supported_operations_2"><a class="anchor" href="#_supported_operations_2"></a>Supported Operations</h3>
<div class="paragraph">
<p>HTTP Method: POST: Verifies the code that was sent through SMS, phone call or email to the destination</p>
</div>
</div>
<div class="sect2">
<h3 id="_request_parameters_2"><a class="anchor" href="#_request_parameters_2"></a>Request Parameters</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of your service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requestID was received when initiating OTP message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If OTP message was initiated on behalf on accountSid, verify will require to have same accountSid to be able to verify the OTP request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The verification code that was sent to the user through SMS.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_response_2"><a class="anchor" href="#_response_2"></a>Response</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responde Body</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sub error code for the request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message for describing sub error code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unique OTP request identifier for the OTP request.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_response_parameters_2"><a class="anchor" href="#_response_parameters_2"></a>Response Parameters</h4>
<div class="paragraph">
<p>verify API will return Error Code and corresponding HTTP Error as mentioned in <a href="#_common_response_error_code">Common Response Error Code</a>. In addition below are the Error&#8217;s that it can return</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">470</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">404</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid OTP Unique Id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify is called for UniqueID which is not present in-system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">472</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">409</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTP is expired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify is called for UniqueId which is present in the system but expired</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">473</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">409</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTP is cancelled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify is called for UniqueId which is present in the system but cancelled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">474</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">401</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid OTP Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify is called for UniqueId which is present and Invalid Code is passed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_example_2"><a class="anchor" href="#_example_2"></a>Example</h3>
<div class="listingblock">
<div class="content">
<pre>{
    "service" : "2FA", // the name of your service
    "requestId" : "OTPYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY",  // the unique OTP Id generated when send was called
    "code": "XXXXXX" // the verification code
}</pre>
</div>
</div>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST \
  <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/verify">https://$DOMAIN/2fa/verify</span> \
  --user  ' \{your_account_SID}:\{your_account_token}' \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -d '{
    "service" : "2FA",
    "requestId" : "OTPYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY",
    "code": "XXXXXX"
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_control"><a class="anchor" href="#_control"></a>Control</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Control API allows App developers to <strong>cancel</strong> already sent API or <strong>resend</strong> the OTP (resend is in roadmap)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cancel_one_time_passwords_api_reference"><a class="anchor" href="#_cancel_one_time_passwords_api_reference"></a>Cancel One-Time Passwords - API Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_base_resource_uri_3"><a class="anchor" href="#_base_resource_uri_3"></a>Base Resource URI</h3>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect2">
<h3 id="_verification_code_resource_uri_3"><a class="anchor" href="#_verification_code_resource_uri_3"></a>Verification Code Resource URI*</h3>
<div class="paragraph">
<p>/2fa/cancel</p>
</div>
</div>
<div class="sect2">
<h3 id="_supported_operations_3"><a class="anchor" href="#_supported_operations_3"></a>Supported Operations</h3>
<div class="paragraph">
<p>HTTP Method: POST: Cancel the code that was sent through SMS/ Call/ Email to the destination</p>
</div>
</div>
<div class="sect2">
<h3 id="_request_parameters_3"><a class="anchor" href="#_request_parameters_3"></a>Request Parameters</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestId (Required)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requestID was received when initiating OTP message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid (Optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If OTP message was initiated on behalf on accountSid, it requires to have same accountSid to be able to cancel the OTP request.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_response_3"><a class="anchor" href="#_response_3"></a>Response</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Responde Body</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sub error code for the request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message for describing sub error code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requestID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unique OTP request identifier for the OTP request.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_response_parameters_3"><a class="anchor" href="#_response_parameters_3"></a>Response Parameters</h4>
<div class="paragraph">
<p>cancel API will return Error Code and corresponding HTTP Error as mentioned in <a href="#_common_response_error_code">Common Response Error Code</a>. In addition below are the Error&#8217;s that it can return</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error Code</th>
<th class="tableblock halign-left valign-top">HTTP Status</th>
<th class="tableblock halign-left valign-top">Error Message</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Category</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">490</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">404</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid OTP Unique Id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control (Cancel for now, but may be other too in future) is called for UniqueID which is not present in-system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_example_3"><a class="anchor" href="#_example_3"></a>Example:</h3>
<div class="listingblock">
<div class="content">
<pre>{
    "requestId":"XXXXXX" // the requestID received when initiating OTP request.
    "accountSid": "XXXXX"
}</pre>
</div>
</div>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST \
  <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/cancel">https://$DOMAIN/2fa/cancel</span> \
  --user  ' \{your_account_SID}:\{your_account_token}' \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -d '{
    "requestId" : "OTPabc2128918293123413216549879",
    "accountSid": "AC123461724187287abcbas791282cf"
}</pre>
</div>
</div>
<div class="paragraph">
<p>If cancel is successful, you should see below response</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"code":200,"message":"canceled","requestID":"OTPabc2128918293123413216549879"}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_session_detail_record_sdr"><a class="anchor" href="#_session_detail_record_sdr"></a>Session Detail Record (SDR)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Session Detail Record API allows to retrieve specific or list of OTP session and its corresponding details like which channel was used to send OTP and underlying error if channel successfully delivered OTP to end user or if there was any error. It also allows to filter based on certain criterias.</p>
</div>
<div class="paragraph">
<p>Other very important functionality exposed by SDR is Usage Report that allows to retrieve the usage of 2FA for specific period. It also allows to pass specific filter criterias.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_list_of_one_time_passwords_api_reference"><a class="anchor" href="#_get_list_of_one_time_passwords_api_reference"></a>Get list of One-Time Passwords - API Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_base_resource_uri_4"><a class="anchor" href="#_base_resource_uri_4"></a>Base Resource URI</h3>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect2">
<h3 id="_verification_code_resource_uri_4"><a class="anchor" href="#_verification_code_resource_uri_4"></a>Verification Code Resource URI</h3>
<div class="paragraph">
<p>/2fa/search</p>
</div>
</div>
<div class="sect2">
<h3 id="_supported_operations_4"><a class="anchor" href="#_supported_operations_4"></a>Supported Operations</h3>
<div class="paragraph">
<p>HTTP Method: GET or POST: Returns a list of OTP records from the provided AccountSid, subject to the provided paging, filtering and sorting URL query parameters.</p>
</div>
</div>
<div class="sect2">
<h3 id="_paging"><a class="anchor" href="#_paging"></a>Paging</h3>
<div class="paragraph">
<p>The following paging parameters are supported</p>
</div>
<table class="tableblock frame-top grid-rows spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Query Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Which page of OTP records to return, starting from 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pageSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of records returned per page.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_filtering"><a class="anchor" href="#_filtering"></a>Filtering</h3>
<div class="paragraph">
<p>The following filtering parameters are supported</p>
</div>
<table class="tableblock frame-top grid-rows spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Query Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include OTP list that is initiated by this specific accountSid. The accountSid should be of one of the sub account&#8217;s of this account.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subAccounts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to true, include OTP list that is initiated by all the sub accounts within this account. By default false.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include OTP list that match this service text, partially or fully in any position.<br>
For example if OTP Service is Support and service filter parameter is ppo, it will match.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include OTP list that is initiated via this channel. Possible values are<br></p>
<p class="tableblock">- call<br>
- sms<br>
- email<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">from</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include OTP list that has from begins with this number/email text.<br></p>
<p class="tableblock">For example if OTP from  is 15713316943 and from filter parameter is 1, it will match. However if from filter parameter is 3, this record will not match.<br>
This allows to filter OTP sent from specific country code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include OTP list that has to begins with this number/email text.<br></p>
<p class="tableblock">For example if OTP to  is 16513333367 and to filter parameter is 1, it will match. However if to filter parameter is 3, this record will not match.<br>
This allows to filter OTP sent to specific country code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">targetSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include OTP list that match target sid of SMS/ Call/ Email text, partially or fully in any position.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include OTP list that has this status. Possible values are<br></p>
<p class="tableblock">- success<br>
- canceled<br>
- expired<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">startTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional parameter. Only show OTP list that were created on this date/time or later, given as an ISO-8601 date/time string, like YYYY-MM-DDTHH:MM:SS (for example 2018-10-05T22:45:32) or, if you want to omit the time, YYYY-MM-DD (for example 2018-10-05). When only a date is provided the time is assumed to be at midnight of the given date. Note that the given date/time is inclusive and is assumed to be in UTC timezone.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">endTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional parameter. Only show OTP list that were created on this date/time or earlier, given as an ISO-8601 date/time string, like YYYY-MM-DDTHH:MM:SS (for example 2018-10-06T02:10:03) or, if you want to omit the time, YYYY-MM-DD (for example 2018-10-06). When only a date is provided the time is assumed to be at midnight of the given date. Note that the given date/time is inclusive and is assumed to be in UTC timezone.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">channelStatus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include OTP list that match underlying channel status, partially or fully in any position<br></p>
<p class="tableblock">* For SMS, possible channel status value can be as explained in <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span>/docs/api/sms-api.html#_status_description<br>
* For Call, possible values are as explained in status property in below link <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span>/docs/api/calls-api.html#_calls_attributes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_response_parameters_4"><a class="anchor" href="#_response_parameters_4"></a>Response Parameters</h3>
<div class="paragraph">
<p>search API will return Error Code and corresponding HTTP Error as mentioned in <a href="#_common_response_error_code">Common Response Error Code</a>.</p>
</div>
<div class="paragraph">
<p>The response returned is JSON body as shown in example below. Each SDR parameters are as explained below</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Response Paremeter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTP UniqueId that was returned when <strong>send</strong> API was called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service parameter passed in when <strong>send</strong> API was called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid parameter passed in when <strong>send</strong> API was called</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dateCreated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date when this OTP requested was initiated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dateUpadtes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date when this OTP SDR was updated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">staus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status of this OTP request. Possible values are successful, expired or cancelled<br>
* successful : OTP was successfully verified by <strong>verify</strong> API call<br>
* expired : OTP expired<br>
* cancelled : OTP was cancelled either by calling <strong>cancel</strong> API or because <strong>send</strong> API was called to send new OTP while previous one has not yet been verified or expired.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique URI that you can call to get only this specific OTP SDR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">checks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of <strong>verfiy</strong> API calls that captures additional details like if it was vaild or invalid and timestamp when verify was received by system. It also captures code used by verify API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This captures the events like sms, call or email that was sent to end user. It has all details like sender, recipient, targetSid which is underlying platform <span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span> id. It also exposes channel Error and message if delivery of SMS, Call or email fails.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_sorting"><a class="anchor" href="#_sorting"></a>Sorting</h3>
<div class="paragraph">
<p>You can use the SortBy GET or POST query parameter to determine which attribute you want to sort by and in which direction; direction can either be 'asc' for ascending and 'desc' for descending sort ordering. Here is the overall format: <strong>sortBy=&lt;sorting attribute&gt;:&lt;direction&gt;</strong>. If no direction parameter is provided, then the listing of calls is sorted by the attribute in ascending order. Below you can find the possible attributes you can sort by:</p>
</div>
<div class="paragraph">
<p>SortBy Attributes</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Response Paremeter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DateCreated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sort by date on which the OTP was created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sort by service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sort by status</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_example_4"><a class="anchor" href="#_example_4"></a>Example</h3>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  curl -X GET \
    <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/search">https://$DOMAIN/2fa/search</span> \
    --user  ' \{your_account_SID}:\{your_account_token}' \
    -d '{  "pageSize": "2", "page":"0", "status":"success", "sortBy":"DateCreated:asc"}'</pre>
</div>
</div>
<div class="paragraph">
<p>Example response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
   "page":0,
   "num_pages":3,
   "page_size":2,
   "total":6,
   "start":0,
   "end":1,
   "uri":"/2fa/search",
   "first_page_uri":"/2fa/search?pageSize=2&amp;page=0&amp;accountSid=ACae6e420f425248d6a26948c17a9e2acf&amp;status=success",
   "previous_page_uri":null,
   "next_page_uri":"/2fa/search?pageSize=2&amp;page=1&amp;accountSid=ACae6e420f425248d6a26948c17a9e2acf&amp;status=success",
   "twoFaOtpSdrs":[
      {
         "sid":"OTP2a73130a3c7d492c93d0b1234596f308",
         "service":"2FA",
         "accountSid":"ACae6e420f425248d6a26948c17a9e2acf",
         "dateCreated":"2019-08-20 10:28:08",
         "dateUpdated":"2019-08-20 10:28:49",
         "status":"success",
         "uri":"/2fa/search/OTP2a73130a3c7d492c93d0b1234596f308",
         "checks":[
            {
               "sid":"OTC2c58e792946b4fc389d7711cafaa5e83",
               "dateReceived":"2019-08-20 10:28:49",
               "status":"valid",
               "code":"312209"
            }
         ],
         "events":[
            {
               "sid":"OTE492b1deb0a7e4a778ab95daa40e7a3f6",
               "dateCreated":"2019-08-20 10:28:08",
               "channel":"email",
               "sender":"<a href="mailto:info@yourcompany.com">info@yourcompany.com</a>",
               "recipient":"<a href="mailto:jane.doe@yourcompany.com">jane.doe@yourcompany.com</a>",
               "targetSid":"",
               "channelStatus":"queued"
            }
         ]
      },
      {
         "sid":"OTP02a7c56a08374eedb8789a1a038e7aae",
         "service":"2FA",
         "accountSid":"ACae6e420f425248d6a26948c17a9e2acf",
         "dateCreated":"2019-08-20 02:43:11",
         "dateUpdated":"2019-08-20 02:43:52",
         "status":"success",
         "uri":"/2fa/search/OTP02a7c56a08374eedb8789a1a038e7aae",
         "checks":[
            {
               "sid":"OTC969ccb83b3cf40328c66719039c3b337",
               "dateReceived":"2019-08-20 02:43:31",
               "status":"invalid",
               "code":"847992"
            },
            {
               "sid":"OTC6991f661e3354a6fa1e0393c95168069",
               "dateReceived":"2019-08-20 02:43:52",
               "status":"valid",
               "code":"347469"
            }
         ],
         "events":[
            {
               "sid":"OTEb6f211a28ed0412bb2c097a428d2ad5a",
               "dateCreated":"2019-08-20 02:43:11",
               "channel":"sms",
               "sender":"12012751398",
               "recipient":"919960639901",
               "targetSid":"SM286fa07039ab498d80bd44d4cc91ac3c",
               "channelStatus":"delivered"
            }
         ]
      }
   ]
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_single_one_time_passwords_api_reference"><a class="anchor" href="#_get_single_one_time_passwords_api_reference"></a>Get single One-Time Passwords - API Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_base_resource_uri_5"><a class="anchor" href="#_base_resource_uri_5"></a>Base Resource URI</h3>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect2">
<h3 id="_verification_code_resource_uri_5"><a class="anchor" href="#_verification_code_resource_uri_5"></a>Verification Code Resource URI</h3>
<div class="paragraph">
<p>/2fa/search/{OTPSid}</p>
</div>
</div>
<div class="sect2">
<h3 id="_supported_operations_5"><a class="anchor" href="#_supported_operations_5"></a>Supported Operations</h3>
<div class="paragraph">
<p>HTTP Method: GET: Return OTP session information which is identified by OTP Sid.</p>
</div>
</div>
<div class="sect2">
<h3 id="_response_parameters_5"><a class="anchor" href="#_response_parameters_5"></a>Response Parameters</h3>
<div class="paragraph">
<p>search API will return Error Code and corresponding HTTP Error as mentioned in <a href="#_common_response_error_code">Common Response Error Code</a>. In addition below are the Error&#8217;s that it can return</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">480</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">404</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid OTP Unique Id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get single OTP is called for UniqueId which is not present in-system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get single OTP</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_example_5"><a class="anchor" href="#_example_5"></a>Example</h3>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X GET \
  <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/search/OTPabc2128918293123413216549879">https://$DOMAIN/2fa/search/OTPabc2128918293123413216549879</span> \
  --user  ' \{your_account_SID}:\{your_account_token}'</pre>
</div>
</div>
<div class="paragraph">
<p>Example response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    {
        "sid":"OTPe2bd1d6583194aa1aa3892cea1e6d824",
        "service" : "2FA",
        "accountSid":"ACae6e420f425248d6a26948c17a9e2acf",
        "dateCreated":"2019-07-22 04:40:31",
        "dateUpdated":"2019-07-22 04:40:31",
        "status":"expired",
        "uri":"/2fa/search/OTPe2bd1d6583194aa1aa3892cea1e6d824",
        "checks":[],
        "events":[
            {
                "sid":"OTE243d763ffe7747b9a56d395a9e6a7923",
                "dateCreated":"2019-07-22 04:40:31",
                "channel":"sms",
                "sender":"120120105123",
                "recipient":"120120105124",
                "targetSid":"SMd0a8b9819dfa42548bd3c306daade4f3",
                "channelStatus":"undelivered",
            }
        ]
    }
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage_record_one_time_passwords_api_reference"><a class="anchor" href="#_usage_record_one_time_passwords_api_reference"></a>Usage record One-Time Passwords - API Reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Usage record REST resource provides a simple API to retrieve usage made by your 2FA account during any time period and by any usage channel. This makes it easy to build reporting and analytics tools for your application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Usage records doesn&#8217;t include real time data and can be delayed by maximum of 1 hour.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_base_resource_uri_6"><a class="anchor" href="#_base_resource_uri_6"></a>Base Resource URI</h3>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect2">
<h3 id="_verification_code_resource_uri_6"><a class="anchor" href="#_verification_code_resource_uri_6"></a>Verification Code Resource URI</h3>
<div class="paragraph">
<p>/2fa/usage/records</p>
</div>
</div>
<div class="sect2">
<h3 id="_supported_operations_6"><a class="anchor" href="#_supported_operations_6"></a>Supported Operations</h3>
<div class="paragraph">
<p>HTTP Method: Supports both GET and POST: Return usage record.</p>
</div>
</div>
<div class="sect2">
<h3 id="_filtering_2"><a class="anchor" href="#_filtering_2"></a>Filtering</h3>
<div class="paragraph">
<p>Usage filter will return usage records for passed filter. Following filtering parameters are supported.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Usage records that match this service text, partially or fully in any position. For example if OTP Service is Support and service filter parameter is ppo, it will match.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Usage records that is initiated via this channel. Possible values are: call, sms, email</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Usage records that has to begins with this number/email text. For example if OTP to  is 16513333367 and to filter parameter is 1, it will match. However if to filter parameter is 3, this record will not match. This allows to filter Usage records sent to specific country code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Usage records that has this status. Possible values are: success, canceled, expired</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">startTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Usage records for OTP&#8217;s that were created on this date/time or later, given as an ISO-8601 date/time string, like YYYY-MM-DDTHH:MM:SS (for example 2018-10-05T22:45:32) or, if you want to omit the time, YYYY-MM-DD (for example 2018-10-05). When only a date is provided the time is assumed to be at midnight of the given date. Note that the given date/time is inclusive and is assumed to be in UTC timezone.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">endTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Usage records for OTP&#8217;s that were created on this date/time or earlier, given as an ISO-8601 date/time string, like YYYY-MM-DDTHH:MM:SS (for example 2018-10-06T02:10:03) or, if you want to omit the time, YYYY-MM-DD (for example 2018-10-06). When only a date is provided the time is assumed to be at midnight of the given date. Note that the given date/time is inclusive and is assumed to be in UTC timezone.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">channelStatus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Usage records that match underlying channel status, partially or fully in any position. For SMS, possible channel status value can be as explained in <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span>/docs/api/sms-api.html#_status_description  For Call, possible values are as explained in status property in below link <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span>/docs/api/calls-api.html#_calls_attributes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Usage record that is initiated by this specific accountSid. The accountSid should be of one of the sub account&#8217;s of this account.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subAccounts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to true, include Usage records that is initiated by all the sub accounts within this account. By default false.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h3>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X GET \
  <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/usage/records?startTime=2020-03-16T18:30:00.000Z&amp;endTime=2020-03-19T13:21:37.778Z">https://$DOMAIN/2fa/usage/records?startTime=2020-03-16T18:30:00.000Z&amp;endTime=2020-03-19T13:21:37.778Z</span> \</pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
   "usageRecords":[
      {
         "description":"2FA Usage record",
         "startTime":"2020-03-16",
         "endTime":"2020-03-19",
         "count":10,
         "successful":5,
         "unsuccessful":5,
         "unit":"2FA",
         "uri":"/2fa/usage/records?startTime=2020-03-16T18:30:00.000Z&amp;endTime=2020-03-19T13:21:37.778Z"
      }
   ]
}</pre>
</div>
</div>
<div class="paragraph">
<p>HTTP POST example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST \
  <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/usage/records">https://$DOMAIN/2fa/usage/records</span> \
    --user  ' \{your_account_SID}:\{your_account_token}'
    -H 'Cache-Control: no-cache' \
    -H 'Content-Type: application/json' \
    -d '{
      "startTime" : "2020-03-16T18:30:00.000Z",
      "endTime": "2020-03-19"
    }'</pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
   "usageRecords":[
      {
         "description":"2FA Usage record",
         "startTime":"2020-03-16",
         "endTime":"2020-03-19",
         "count":10,
         "successful":5,
         "unsuccessful":5,
         "unit":"2FA",
         "uri":"/2fa/usage/records?startTime=2020-03-16T18:30:00.000Z&amp;endTime=2020-03-19T13:21:37.778Z"
      }
   ]
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_for_sms_filter_parameter"><a class="anchor" href="#_example_for_sms_filter_parameter"></a>Example for SMS filter parameter</h3>
<div class="paragraph">
<p>HTTP POST example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST \
  <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/usage/records">https://$DOMAIN/2fa/usage/records</span> \
    --user  ' \{your_account_SID}:\{your_account_token}'
    -H 'Cache-Control: no-cache' \
    -H 'Content-Type: application/json' \
    -d '{
      "channel" : "sms"
  }'</pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
   "usageRecords":[
      {
         "description":"2FA Usage record",
         "startTime":"2020-03-16",
         "endTime":"2020-03-19",
         "count":3,
         "successful":1,
         "unsuccessful":2,
         "unit":"2FA",
         "uri":"/2fa/usage/records?channel=sms&amp;startTime=2020-03-16T18:30:00.000Z&amp;endTime=2020-03-19T13:21:37.778Z"
      }
   ]
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_request_sub_resource"><a class="anchor" href="#_request_sub_resource"></a>Request Sub resource</h3>
<div class="paragraph">
<p>The main UsageRecords list resource supports a variety of convenience subresources. In general these take the form:<br></p>
</div>
<div class="paragraph">
<p>/2fa/usage/records/{Subresource}<br></p>
</div>
<div class="paragraph">
<p>Supported subresources are</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Subresource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Daily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return Usage record on a daily basis. If no date filter is passed, last 30 days usage is retrieved.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monthly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return Usage record on a monthly basis. If no date filter is passed, last 12 months usage is retrieved</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yearly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return Usage record on yearly basis. If no date filter is passed, only this year and previous year usage is retrieved.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Today</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return Usage record on today.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yesterday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return Usage record on yesterday.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ThisMonth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return Usage record on this month.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LastMonth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return Usage record on last month.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Filters mentioned in above section can also be passed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples_2"><a class="anchor" href="#_examples_2"></a>Examples</h3>
<div class="paragraph">
<p>HTTP GET Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X GET \
  <span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN/2fa/usage/records/daily">https://$DOMAIN/2fa/usage/records/daily</span> \
  --user  ' \{your_account_SID}:\{your_account_token}'</pre>
</div>
</div>
<div class="paragraph">
<p>Example Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
   "usageRecords":[
      {
         "description":"2FA Usage record",
         "startTime":"2020-03-17",
         "endTime":"2020-03-17",
         "count":259200,
         "successful":155671,
         "unsuccessful":103529,
         "unit":"2FA"
      },
      {
         "description":"2FA Usage record",
         "startTime":"2020-03-19",
         "endTime":"2020-03-19",
         "count":140404,
         "successful":84220,
         "unsuccessful":56184,
         "unit":"2FA"
      },
      {
         "description":"2FA Usage record",
         "startTime":"2020-03-18",
         "endTime":"2020-03-18",
         "count":259200,
         "successful":155656,
         "unsuccessful":103544,
         "unit":"2FA"
      }
   ]
}</pre>
</div>
</div>
<div class="paragraph">
<p>You can also test your service using <a href="https://www.getpostman.com/">Postman</a> or any other alike client.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_response_error_code"><a class="anchor" href="#_common_response_error_code"></a>Common Response Error Code</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Response Parameters</strong></p>
</div>
<div class="paragraph">
<p>Below table shows Error Codes and corresponding HTTP Response across all API calls for 2FA</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">401</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">401</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation failed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If validation failed for provided accountSid and token</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">450</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">401</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AccountSid passed is wrong or not sub-account of account zzzzz.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zzzzz is accountSid passed in validation request, but is wrong or not sub-account of accountSid passed in authentication header.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">451</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory parameter xxx is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xxx is actual parameter name. Comma separated parameters name if multiple.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">452</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying message from <span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error returned by underlying <span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span> platform.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_limit"><a class="anchor" href="#_limit"></a>Limit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Limits provide the capability to enforce limitations on the number of OTPs sent based on various Keys defined. Keys can be defined to put limits based on many parameters. Some of the examples are below</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Phone Number</p>
</li>
<li>
<p>End User IP Address</p>
</li>
<li>
<p>Application specific Session-Id</p>
</li>
<li>
<p>Geolocation of End User IP Address</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This enables developers to safeguard against malicious attacks like bots trying to sign in to an application from one specific IP address or some user intentionally trying to generate many OTPs.</p>
</div>
<div class="paragraph">
<p>2FA provides flexibility for Developers to define Limits based on mixed Keys. For example 1 OTP per min per number but 4 OTP per min per IP address etc.</p>
</div>
<div class="paragraph">
<p>Each Limit has, Buckets associated with (maximum of 2 Buckets allowed per Limit) to put restrictions for that Limit. For example 1 OTP per 60 Seconds and 10 OTP per 86400 Seconds (24 Hrs) for Limit based on Phone Number. Which means OTP will be limited to 1 per min and maximum 10 per day for the same Phone Number recipient.</p>
</div>
<div class="paragraph">
<p>Developers have to pass a list of Limits when invoking Send API to enforce limits.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If no Limit is defined by Developer or if no Limit is passed when invoking Send API, by default 1 OTP per min per recipient phone number will be applied as default.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_order_of_limit_in_send_api"><a class="anchor" href="#_order_of_limit_in_send_api"></a>Order of Limit in Send API</h3>
<div class="paragraph">
<p>If Developer is calling the Send API with a combination of limits as explained in Request Parameters of Send, the order of limits defined matters.</p>
</div>
<div class="paragraph">
<p>For example consider below two limits defined.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>limit_on_Session  with  only one bucket [ {"name":"bucket1", "max":"1", "interval":"60"}]</p>
</li>
<li>
<p>limit_on_phonenumber with two buckets [{"name":"bucket1","max":"1", "interval":"30"},{ "name":"bucket2", "max":"2", "interval":"300"}]</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_example_1"><a class="anchor" href="#_example_1"></a>Example 1</h4>
<div class="paragraph">
<p>Developer calls send API passing below parameter with given order.</p>
</div>
<div class="paragraph">
<p>"limits" : "{  \"limit_on_Session\":\"aabbcd\", \"limit_on_phonenumber\": \"919960639903\" }"</p>
</div>
<div class="ulist">
<ul>
<li>
<p>timestamp T0: 1st Send API called. OTP will be sent.</p>
</li>
<li>
<p>timestamp T1=T0+31 sec: 2nd Send API called. OTP will be blocked with error code 454 and error message Too many Otp requests to the same Limit! key: limit_on_Session with value: aabbcd</p>
</li>
<li>
<p>timestamp T2=T0+61 sec: 3rd Send API called. OTP will be sent.</p>
</li>
<li>
<p>From T2 to T0+300 sec OTP will be blocked</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_2_2"><a class="anchor" href="#_example_2_2"></a>Example 2</h3>
<div class="paragraph">
<p>Developer calls send API passing below parameter with given order</p>
</div>
<div class="paragraph">
<p>"limits" : "{   \"limit_on_phonenumber\": \"919960639903\",\"limit_on_Session\":\"aabbcd\" }"</p>
</div>
<div class="ulist">
<ul>
<li>
<p>timestamp T0: 1st Send API called. OTP will be sent.</p>
</li>
<li>
<p>timestamp T1=T0+31 sec: 2nd Send API called. OTP will be sent.</p>
</li>
<li>
<p>timestamp T2=T0+61 sec: 3rd Send API called. OTP will be blocked</p>
</li>
<li>
<p>From T2 to T0+300 sec OTP will be blocked.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_create_limit"><a class="anchor" href="#_create_limit"></a>Create Limit</h3>
<div class="paragraph">
<p>The create Limit endpoint API is called to create a new Limit for a given Account.</p>
</div>
</div>
<div class="sect2">
<h3 id="_base_resource_uri_7"><a class="anchor" href="#_base_resource_uri_7"></a>Base Resource URI</h3>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
<div class="sect3">
<h4 id="_create_limit_resource_uri"><a class="anchor" href="#_create_limit_resource_uri"></a>Create Limit Resource URI</h4>
<div class="paragraph">
<p>/2fa/limits</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_operations_7"><a class="anchor" href="#_supported_operations_7"></a>Supported Operations</h4>
<div class="paragraph">
<p>HTTP POST: Create Limit</p>
</div>
</div>
<div class="sect3">
<h4 id="_request_parameters_4"><a class="anchor" href="#_request_parameters_4"></a>Request Parameters</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory. Unique Name for this Limit. Developers will pass this as key when passing Limit to Send API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buckets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON body of Buckets. For example</p>
<p class="tableblock">   "buckets":[
      {
         "name":"bucket1",
         "max":"1",
         "interval":"10"
      },
      {
         "name":"bucket2",
         "max":"10",
         "interval":"86400"
      }
   ]</p>
<p class="tableblock">Note interval is in seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. Description for this Limit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. Sub-Account Sid for which Limit is to be created. If not passed Limit is created for same Account calling the API</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_response_body"><a class="anchor" href="#_response_body"></a>Response Body</h4>
<div class="paragraph">
<p>The Response Body will carry Code, corresponding message and data of Limit if it was  successfully created. HTTP response will be 200 OK.</p>
</div>
<div class="paragraph">
<p>The response returned is JSON body as shown in the example below. Each parameters are as explained below</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sub-error code in case of error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message describing error if error occured or success message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit data as explained in the table below.</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_limit_data_parameter"><a class="anchor" href="#_limit_data_parameter"></a>Limit Data Parameter</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Data Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique Limit Id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique <span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span> Account wich called API to create the Limit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountEmail</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique <span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span> Account email corresponding to accountSid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">targetAccountSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique <span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span> Account for which this particular Limit is created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">targetAccountEmail</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique <span class="sps-text non-sps-link" data-orig-text="CPaaS" data-parm-text="application_name" data-default-text="$INFER_FROM_DOMAIN">CPaaS</span> Account email corresponding to targetAccountSid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dateCreated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp when this Limit was created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dateUpdated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp when this Limit was updated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique Name of this Limit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buckets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON formatted Buckets as explained below:</p>
<p class="tableblock"> - name: Any descriptive name that makes sense<br>
 - max: Maximum Otp allowed for given interval in seconds<br>
 - interval: Time period in seconds to throttle send OTP requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description for this Limit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique URI that you can call to get only this specific Enterprise</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Create Limit API can also return Error Code and corresponding HTTP Error as mentioned in Common Response Error Code. In addition below are the Error that it can return</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">492</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">409</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit with that Name already exists</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit name should be unique in given Account</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create Limit</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_example_6"><a class="anchor" href="#_example_6"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre>{
    "name" : "limit_on_phoneNumber",
    "description" : "Limit number of OTP sent per recipient Phone Number",
   "buckets":[
      {
         "name":"Min bucket",
         "max":"1",
         "interval":"10"
      },
      {
         "name":"Max bucket",
         "max":"10",
         "interval":"86400"
      }
   ]
 }</pre>
</div>
</div>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST \
  <a href="https://your_custom_domain/2fa/limits" class="bare">https://your_custom_domain/2fa/limits</a> \
--user  ' {your_account_SID}:{your_account_token}' \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -d '{
    "name": "limit_on_phonenumber",
    "buckets": "[{ \"name\":\"bucket1\", \"max\":\"1\", \"interval\":\"30\"},{ \"name\":\"bucket2\", \"max\":\"2\", \"interval\":\"300\"}]",
    "description": "limit on Phone Number"
}'</pre>
</div>
</div>
<div class="paragraph">
<p>If creation of limit  is successful, below is the response returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "data": {
        "sid": "LMe7d332c72d2f40b9bfe8982425af14bc",
        "name": "limit_on_phonenumber",
        "buckets": "[{ \"name\":\"bucket1\", \"max\":\"1\", \"interval\":\"30\"},{ \"name\":\"bucket2\", \"max\":\"2\", \"interval\":\"300\"}]",
        "description": "limit on Phone Number",
        "accountSid": "AC23f1b11bbb99a46436c365cb7bec246e",
        "uri": "/2fa/limits/search/LMe7d332c72d2f40b9bfe8982425af14bc"
    },
    "code": 200,
    "message": "OK"
}</pre>
</div>
</div>
<div class="paragraph">
<p>If creation of Limit fails, below response is returned with corresponding HTTP Error Code</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "code": 492,
    "message": "Limit with that Name already exists",
    "requestID": null
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_update_limit"><a class="anchor" href="#_update_limit"></a>Update Limit</h3>
<div class="paragraph">
<p>The update Limit endpoint API is called to update existing Limit for a given Account.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Updated in Bucket value will be reflected in maximum 5 mins as System caches the Buckets to avoid frequent round-trip to database.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_base_resource_uri_8"><a class="anchor" href="#_base_resource_uri_8"></a>Base Resource URI</h4>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect3">
<h4 id="_update_limit_resource_uri"><a class="anchor" href="#_update_limit_resource_uri"></a>Update Limit Resource URI</h4>
<div class="paragraph">
<p>/2fa/limits/{limitSid}</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_operations_8"><a class="anchor" href="#_supported_operations_8"></a>Supported Operations</h4>
<div class="paragraph">
<p>HTTP PUT: Update Limit</p>
</div>
</div>
<div class="sect3">
<h4 id="_request_parameters_5"><a class="anchor" href="#_request_parameters_5"></a>Request Parameters</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limitSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory. Unique SID of limit that was returned when Create Limit was invoked.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">buckets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. JSON formatted Buckets as explained below</p>
<p class="tableblock">name: Any descriptive name that makes sense  <br>
max: Maximum Otp allowed for given interval in seconds <br>
interval: Time period in seconds to throttle send OTP requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional. Description for this Limit</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Account can update Sub-Account Limits
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_body_2"><a class="anchor" href="#_response_body_2"></a>Response Body</h4>
<div class="paragraph">
<p>The Response Body will carry Code, corresponding message and data of Limit if it was  successfully created. HTTP response will be 200 OK.</p>
</div>
<div class="paragraph">
<p>The response returned is JSON body as shown in the example below. Each parameters are as explained below</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sub-error code in case of error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message describing error if error occured or success message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit data as explained in the table.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Update Limit API can also return Error Code and corresponding HTTP Error as mentioned in Common Response Error Code. In addition below are the Error that it can return</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">493</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">409</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid Limit Id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit sid passed is not present in the System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update, Search Single, Delete Limit</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_7"><a class="anchor" href="#_example_7"></a>Example:</h4>
<div class="listingblock">
<div class="content">
<pre>{
       "description" : "Limit number of OTP sent per recipient Phone Number. Pass with Send API",
"buckets":[
      {
         "name":"Min bucket",
         "max":"2",
         "interval":"10"
      },
      {
         "name":"Max bucket",
         "max":"20",
         "interval":"86400"
      }
 	]
 }</pre>
</div>
</div>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X PUT \
  https://your_custom_domain/2fa/limits/LM88170d5b0e1f4eb3ad724ffc8131c9c1 \
--user  ' {your_account_SID}:{your_account_token}' \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \
  -d '{
    "buckets":"[{\"name\":\"bucket1\", \"max\":\"1\", \"interval\":\"30\"},{\"name\":\"bucket2\", \"max\":\"2\", \"interval\":\"300\"}]",
    "description": "limit on Phone Number of receiver blabla"
}'</pre>
</div>
</div>
<div class="paragraph">
<p>If update of limit  is successful, below is the response returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "data": {
        "sid": "LM88170d5b0e1f4eb3ad724ffc8131c9c1",
        "name": "limit_on_Session",
        "buckets": "[{\"name\":\"bucket1\", \"max\":\"1\", \"interval\":\"30\"},{\"name\":\"bucket2\", \"max\":\"2\", \"interval\":\"300\"}]",
        "description": "limit on Phone Number of receiver blabla",
        "accountSid": "AC23f1b11bbb99a46436c365cb7bec246e",
        "uri": "/2fa/limits/search/LM88170d5b0e1f4eb3ad724ffc8131c9c1"
    },
    "code": 200,
    "message": "OK"
}</pre>
</div>
</div>
<div class="paragraph">
<p>If update of Limit fails, below response is returned with corresponding HTTP Error Code</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "code": 493,
    "message": "Invalid Limit Id",
    "requestID": null
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_delete_limit"><a class="anchor" href="#_delete_limit"></a>Delete Limit</h3>
<div class="paragraph">
<p>The delete Limit endpoint API is called to delete existing Limit for a given Account.</p>
</div>
<div class="sect3">
<h4 id="_base_resource_uri_9"><a class="anchor" href="#_base_resource_uri_9"></a>Base Resource URI</h4>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect3">
<h4 id="_delete_limit_resource_uri"><a class="anchor" href="#_delete_limit_resource_uri"></a>Delete Limit Resource URI</h4>
<div class="paragraph">
<p>/2fa/limits/{limitSid}</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_operations_9"><a class="anchor" href="#_supported_operations_9"></a>Supported Operations</h4>
<div class="paragraph">
<p>HTTP DELETE: Delete Limit</p>
</div>
</div>
<div class="sect3">
<h4 id="_request_parameters_6"><a class="anchor" href="#_request_parameters_6"></a>Request Parameters</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limitSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory. Unique SID of limit that was returned when Create Limit was invoked.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Account can Delete SubAccount Limits
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_body_3"><a class="anchor" href="#_response_body_3"></a>Response Body</h4>
<div class="paragraph">
<p>The Response Body will carry Code, corresponding message and data of Limit if it was  successfully deleted. HTTP response will be 200 OK.</p>
</div>
<div class="paragraph">
<p>The response returned is JSON body as shown in the example below. Each parameters are as explained below</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sub-error code in case of error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message describing error if error occured or success message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit data as explained in the table.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Delete Limit API can also return Error Code and corresponding HTTP Error as mentioned in Common Response Error Code. In addition below are the Error that it can return</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">493</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">409</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid Limit Id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit sid passed is not present in the System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update, Search Single, Delete Limit, Create Bucket</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_8"><a class="anchor" href="#_example_8"></a>Example:</h4>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X DELETE \
  https://your_custom_domain.com/2fa/limits/LM4d9cfa53230848199d787a99f1b431a4 \
--user  ' {your_account_SID}:{your_account_token}' \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \</pre>
</div>
</div>
<div class="paragraph">
<p>If delete of limit is successful, below is the response returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "data": {
        "sid": "LM4d9cfa53230848199d787a99f1b431a4",
        "name": "limit_on_IP",
        "buckets": "[{ \"name\":\"bucket1\", \"max\":\"1\", \"interval\":\"30\"},{ \"name\":\"bucket2\", \"max\":\"2\", \"interval\":\"300\"}]",
        "description": "limit on IP",
        "accountSid": "AC23f1b11bbb99a46436c365cb7bec246e",
        "uri": "/2fa/limits/search/LM4d9cfa53230848199d787a99f1b431a4"
    },
    "code": 200,
    "message": "OK"
}</pre>
</div>
</div>
<div class="paragraph">
<p>If delete of Limit fails, below response is returned with corresponding HTTP Error Code</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "code": 493,
    "message": "Invalid Limit Id",
    "requestID": null
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_get_list_of_limits"><a class="anchor" href="#_get_list_of_limits"></a>Get list of Limits</h3>
<div class="paragraph">
<p>List Limits API allows users to list all the Limits created under that Account or Sub-Account</p>
</div>
<div class="sect3">
<h4 id="_base_resource_uri_10"><a class="anchor" href="#_base_resource_uri_10"></a>Base Resource URI</h4>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect3">
<h4 id="_get_list_of_limits_resource_uri"><a class="anchor" href="#_get_list_of_limits_resource_uri"></a>Get List of Limits Resource URI</h4>
<div class="paragraph">
<p>/2fa/limits/search</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_operations_10"><a class="anchor" href="#_supported_operations_10"></a>Supported Operations</h4>
<div class="paragraph">
<p>HTTP GET: List Limits</p>
</div>
</div>
<div class="sect3">
<h4 id="_paging_2"><a class="anchor" href="#_paging_2"></a>Paging</h4>
<div class="paragraph">
<p>The following paging parameters are supported</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Which page of Limit records to return, starting from 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pageSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of records returned per page</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the search API is called without page and pageSize, by default pageSize will be 10 and page will be 0 to avoid retrieving all data in a single API call.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_filtering_3"><a class="anchor" href="#_filtering_3"></a>Filtering</h4>
<div class="paragraph">
<p>Following filtering parameters are supported</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional parameter. Only show Limits that match name text, partially or fully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accountSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only include Limits list that is initiated by this specific accountSid. The accountSid should be one of the sub accounts of this account.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subAccounts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to true, include Limits that are associated to all the sub accounts within this account. By default false.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">startTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional parameter. Only show limits that were created on this date/time or later, given as an ISO-8601 date/time string, like YYYY-MM-DDTHH:MM:SS (for example 2018-10-05T22:45:32) or, if you want to omit the time, YYYY-MM-DD (for example 2018-10-05). When only a date is provided the time is assumed to be at midnight of the given date. Note that the given date/time is inclusive and is assumed to be in UTC timezone.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">endTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional parameter. Only show Limits that were created on this date/time or earlier, given as an ISO-8601 date/time string, like YYYY-MM-DDTHH:MM:SS (for example 2018-10-06T02:10:03) or, if you want to omit the time, YYYY-MM-DD (for example 2018-10-06). When only a date is provided the time is assumed to be at midnight of the given date. Note that the given date/time is inclusive and is assumed to be in UTC timezone.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_sorting_information"><a class="anchor" href="#_sorting_information"></a>Sorting Information</h4>
<div class="paragraph">
<p>You can use the SortBy GET query parameter to determine which attribute you want to sort by and in which direction; direction can either be 'asc' for ascending and 'desc' for descending sort ordering. Here is the overall format: SortBy=&lt;sorting attribute&gt;:&lt;direction&gt;. If no direction parameter is provided, then the listing of Limits is sorted by the attribute in ascending order. Below you can find the possible attributes you can sort by:</p>
</div>
<div class="sect4">
<h5 id="_sort_attributes"><a class="anchor" href="#_sort_attributes"></a>Sort Attributes</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sort by name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dateCreated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sort by date when Limit was created</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_parameters_6"><a class="anchor" href="#_response_parameters_6"></a>Response Parameters</h4>
<div class="paragraph">
<p>Search Limit API will return Error Code and corresponding HTTP Error as mentioned in Common Response Error Code.</p>
</div>
<div class="paragraph">
<p>The response returned is JSON body as shown in the example below. Each parameters are as explained below</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sub-error code for response</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message describing error if error occured or success message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of Limits data of search as explained in table below</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_data_parameters"><a class="anchor" href="#_data_parameters"></a>Data parameters</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">result</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limits data as explained in the table 6.1.5.1 Limit Data Parameter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pageSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of records returned per page.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">total</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total Number of records</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Which page of records to return.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numPages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of pages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starting offset of page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">end</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ending offset of page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">firstPageUri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique URI that you can call to get records in First page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nextPageUri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique URI that you can call to get records in next page</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique URI that you can call to get records</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_example_9"><a class="anchor" href="#_example_9"></a>Example:</h4>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X GET \
  https://your_custom_domain.com/2fa/limits/search?pageSize=2&amp;page=0 \
--user  ' {your_account_SID}:{your_account_token}' \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \</pre>
</div>
</div>
<div class="paragraph">
<p>Below is the response returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "data": {
        "result": [
            {
                "sid": "LM88170d5b0e1f4eb3ad724ffc8131c9c1",
                "name": "limit_on_Session",
                "buckets": "[{\"name\":\"bucket1\", \"max\":\"1\", \"interval\":\"30\"},{\"name\":\"bucket2\", \"max\":\"2\", \"interval\":\"300\"}]",
                "description": "limit on Phone Number of receiver blabla",
                "accountSid": "AC23f1b11bbb99a46436c365cb7bec246e",
                "uri": "/2fa/limits/search/LM88170d5b0e1f4eb3ad724ffc8131c9c1"
            },
            {
                "sid": "LMe7d332c72d2f40b9bfe8982425af14bc",
                "name": "limit_on_phonenumber",
                "buckets": "[{ \"name\":\"bucket1\", \"max\":\"1\", \"interval\":\"30\"},{ \"name\":\"bucket2\", \"max\":\"2\", \"interval\":\"300\"}]",
                "description": "limit on Phone Number",
                "accountSid": "AC23f1b11bbb99a46436c365cb7bec246e",
                "uri": "/2fa/limits/search/LMe7d332c72d2f40b9bfe8982425af14bc"
            }
        ],
        "pageSize": 10,
        "total": 2,
        "page": 0,
        "numPages": 1,
        "start": 0,
        "end": 1,
        "firstPageUri": "/2falimits/search/?pageSize=10&amp;page=0",
        "uri": "/2falimits/search/?pageSize=10&amp;page=0"
    },
    "code": 200,
    "message": "OK"
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_get_single_limits"><a class="anchor" href="#_get_single_limits"></a>Get Single Limits</h3>
<div class="paragraph">
<p>Single Limits search API allows users to retrieve specific Limits created under that Account or Sub-Account</p>
</div>
<div class="sect3">
<h4 id="_base_resource_uri_11"><a class="anchor" href="#_base_resource_uri_11"></a>Base Resource URI</h4>
<div class="paragraph">
<p><span class="non-sps-text non-sps-link" data-orig-text="https://$DOMAIN">https://$DOMAIN</span></p>
</div>
</div>
<div class="sect3">
<h4 id="_get_single_limits_resource_uri"><a class="anchor" href="#_get_single_limits_resource_uri"></a>Get Single Limits Resource URI</h4>
<div class="paragraph">
<p>/2fa/limits/search/{LimitSid}</p>
</div>
</div>
<div class="sect3">
<h4 id="_supported_operations_11"><a class="anchor" href="#_supported_operations_11"></a>Supported Operations</h4>
<div class="paragraph">
<p>HTTP GET: Specific Limits</p>
</div>
</div>
<div class="sect3">
<h4 id="_request_parameters_7"><a class="anchor" href="#_request_parameters_7"></a>Request Parameters</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">limitSid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory. Unique SID of limit that was returned when Create Limit was invoked.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Account can get single Limits of  SubAccount
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_parameters_7"><a class="anchor" href="#_response_parameters_7"></a>Response Parameters</h4>
<div class="paragraph">
<p>Search Limits API will return Error Code and corresponding HTTP Error as mentioned in Common Response Error Code.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">493</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">409</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid Limit Id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit sid passed is not present in the System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update, Search Single, Delete Limit</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_example_10"><a class="anchor" href="#_example_10"></a>Example:</h4>
<div class="paragraph">
<p>From the bash terminal you can run the command below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X GET \
  https://your_custom_domain/2fa/limits/search/LM88170d5b0e1f4eb3ad724ffc8131c9c1 \
--user  ' {your_account_SID}:{your_account_token}' \
  -H 'Cache-Control: no-cache' \
  -H 'Content-Type: application/json' \</pre>
</div>
</div>
<div class="paragraph">
<p>Below is the response returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "data": {
        "sid": "LM88170d5b0e1f4eb3ad724ffc8131c9c1",
        "name": "limit_on_Session",
        "buckets": "[{\"name\":\"bucket1\", \"max\":\"1\", \"interval\":\"30\"},{\"name\":\"bucket2\", \"max\":\"2\", \"interval\":\"300\"}]",
        "description": "limit on Phone Number of receiver blabla",
        "accountSid": "AC23f1b11bbb99a46436c365cb7bec246e",
        "uri": "/2fa/limits/search/LM88170d5b0e1f4eb3ad724ffc8131c9c1"
    },
    "code": 200,
    "message": "OK"
}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <div class="footer-container">
    <div class="footer-column-container">
      <div class="footer-column">
          <h5 class="footer-column-title">Platform</h5>
          <p><a class="footer-products-item" href="/docs/api/voice-category.html">Programmable Voice</a></p>
          <p><a class="footer-products-item" href="/docs/api/sms-category.html">Programmable SMS</a></p>
      </div>
      <div class="footer-column">
        <h5 class="footer-column-title">Turnkey Applications</h5>
        <p><a class="footer-usecase-item" id="Smart2FA" href="/docs/turnkey-applications/Smart-2FA-Overview.html">Smart 2FA</a></p>
          <p><a class="footer-usecase-item" id="CallQueuing" href="/docs/api/call-queue-api.html">Call Queue</a></p>
          <p><a class="footer-usecase-item" id="AutoAttendant" href="/docs/solutions/auto-attendant-overview.html">Auto Attendant</a></p>
          <p><a class="footer-usecase-item" id="NumberMasking" href="/docs/turnkey-applications/number-masking-overview.html">Number Masking</a></p>
          <p><a class="footer-usecase-item" id="TaskRouter" href="/docs/turnkey-applications/task-router-overview.html">Task Router</a></p>
          <p><a class="footer-usecase-item" id="CampaignManager" href="/docs/turnkey-applications/campaign-manager-overview.html">Campaign Manager</a></p>
      </div>
      <div class="footer-column">
        <h5 class="footer-column-title">Learn</h5>

          <p><a id="terms-link" class="non-sps-text sps-link" data-parm-link="terms_link" href="/docs/terms.html" data-default-link="/docs/terms.html">Terms And Conditions</a></p>
      </div>
      <div class="footer-column">
    <h5 class="footer-column-title">About</h5>
        <p><a class="sps-text sps-link" data-parm-text="company_name" data-parm-link="company_link" href="https://www.telestax.com/about/" data-default-text="About Us" data-default-link="#">ABOUT</a></p>
  <p><a class="sps-text sps-link" data-parm-text="Contact Us" data-parm-link="contact_link" href="https://www.telestax.com/contact/" data-default-text="Contact Us" data-default-link="#">CONTACT US</a></p>
      </div>
    </div>
   <div class="footer-bottom-container">
    <div class="footer-copyright">
     <p class="footer-copyright-paragraph"><a class="sps-text" data-parm-text="copyright_text" data-default-text=" 2020, All rights reserved."> 2020, All rights reserved.</a></p>
    </div>
   </div>
    <!---->
  </div>
</footer>
<script src="../../../../_/js/site.js"></script>
<script src="../../../../_/js/vendor/highlight.js"></script>
<!--
<script>hljs.initHighlighting()</script>
-->
<!--
  Tried to get this chunk into js/05-countly.js but it has some issues with the async loading so fell back to putting it here
  where it works for some reason
-->
  <!-- Only enable countly if the key is set -->
  <script type='text/javascript' src='https://cdn.jsdelivr.net/countly-sdk-web/latest/countly.min.js'></script>
  <script>
    var Countly = Countly || {}
    Countly.q = Countly.q || []

    // provide countly initialization parameters
    Countly.app_key = '56bdc77c4c53e32ebd439e2586dd4ee22b3d3ad0'
    Countly.url = 'https://restcomm.count.ly'

    Countly.q.push(['track_sessions'])
    Countly.q.push(['track_pageview'])
    Countly.q.push(['track_clicks'])
    Countly.q.push(['track_errors'])
    Countly.q.push(['track_links'])
    Countly.q.push(['track_forms'])
    Countly.q.push(['collect_from_forms'])

    // send event
    Countly.q.push(['add_event', {
      key: 'Restcomm CSPs Documentation',
      segmentation: {},
    }]);

    // load countly script asynchronously
    (function () {
      var cly = document.createElement('script')
      cly.type = 'text/javascript'
      cly.async = true
      // enter url of script here
      cly.src = 'https://cdn.jsdelivr.net/countly-sdk-web/latest/countly.min.js'
      cly.onload = function () {
        Countly.init()
      }
      var s = document.getElementsByTagName('script')[0]
      s.parentNode.insertBefore(cly, s)
    })()
  </script>

  </body>
</html>
