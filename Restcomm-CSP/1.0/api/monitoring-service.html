<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restcomm API - Supervisor/Monitoring service :: Restcomm CPaaS Enablement Docs</title>
    <link rel="canonical" href="https://www.restcomm.com/docs/Restcomm-CSP/1.0/api/monitoring-service.html">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="icon" type="image/png" href="../../../_/img/favicon.png"/>
    <link rel="stylesheet" href="../../../_/css/site.css">
    <!-- Right now for demo purposes I'm using google icons, but once we finalize design might be different -->
    <!-- Not using it for now
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
    -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
      </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
<!--
      <a class="navbar-item" href="https://www.restcomm.com/docs"><img width="140px" src="../../../_/img/restcomm-logo-white.svg"></a>
-->
      <a class="navbar-item header-logo-link" href="https://www.restcomm.com/docs"></a>
<!--
      <a class="navbar-item" href="https://www.restcomm.com/docs">Restcomm CPaaS Enablement Docs</a>
-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- TODO: Bring back when we integrate with searching facilities
        <a class="navbar-item" href="#"><i class="material-icons">search</i></a>
        -->
        <a class="navbar-item" href="https://cloud.restcomm.com/#/login">Sign in</a>
        <div class="navbar-item">
          <span>
            <a id="signup" class="button" href="https://cloud.restcomm.com/#/signup">Sign up</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>

<div class="main-wrapper">
<div class="navigation-container" data-component="Restcomm-CSP" data-version="1.0" >
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Restcomm CPaaS Enablement Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="voice-category.html">Voice</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="calls.html">Calls</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="calls.html">Recordings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="calls.html">Conferences</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="numbers.html">Numbers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sms-category.html">SMS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sms.html">Messages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sms.html#_send_sms">Send SMS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sms.html#_get_sms_list">Get SMS List</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sms.html#_get_single_sms_information">Get single SMS Information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sms.html#_sms_attributes">SMS Attributes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="numbers.html">Numbers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="rcml-category.html">RCML</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dial.html">Dial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gather.html">Gather</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="say.html">Say</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="play.html">Play</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore" style="display: none;">
  <div class="context">
    <span class="title">Restcomm CPaaS Enablement Docs</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Restcomm CPaaS Enablement Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">Restcomm CPaaS Enablement Docs</a></li>
    <li class="crumb"><a href="monitoring-service.html">Restcomm API - Supervisor/Monitoring service</a></li>
  </ul>
</nav>
</div>
<article class="doc ">
  <h1>Restcomm API - Supervisor/Monitoring service</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_supervisor_api">Supervisor API</a>
<ul class="sectlevel2">
<li><a href="#_supervisor_resource_uri">Supervisor Resource URI</a></li>
<li><a href="#_resource_properties">Resource Properties</a></li>
<li><a href="#_supported_operations">Supported Operations</a></li>
<li><a href="#_supervisor_resource_uri_2">Supervisor Resource URI</a></li>
<li><a href="#_supported_operations_2">Supported Operations</a></li>
<li><a href="#_get_metrics">Get metrics</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_supervisor_api"><a class="anchor" href="#_supervisor_api"></a>Supervisor API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use <strong>Supervisor API</strong> to access statistics from Restcomm and monitor the usage.</p>
</div>
<div class="paragraph">
<p><strong>Supervisor API</strong> can be used to monitor traffic on a Restcomm instance.</p>
</div>
<div class="paragraph">
<p>The <strong>Supervisor API</strong> will provide the following metrics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Real Time metrics</p>
<div class="ulist">
<ul>
<li>
<p>Live incoming calls</p>
</li>
<li>
<p>Live outgoing calls</p>
</li>
<li>
<p>Live calls (total)</p>
</li>
<li>
<p>Live call details array. An array with call details for each of the live calls</p>
</li>
<li>
<p>Registered users</p>
</li>
</ul>
</div>
</li>
<li>
<p>Accumulated metrics</p>
<div class="ulist">
<ul>
<li>
<p>Total calls since uptime</p>
</li>
<li>
<p>Incoming calls since uptime</p>
</li>
<li>
<p>Outgoing calls since uptime</p>
</li>
<li>
<p>No Answered calls</p>
</li>
<li>
<p>Busy calls</p>
</li>
<li>
<p>Failed calls</p>
</li>
<li>
<p>Not found calls</p>
</li>
<li>
<p>Canceled calls</p>
</li>
<li>
<p>Inbound Text messages to RMCL applications</p>
</li>
<li>
<p>Inbound Text messages to Restcomm clients</p>
</li>
<li>
<p>Inbound Text messages to outbound proxy</p>
</li>
<li>
<p>Inbound Text messages with Not Found error</p>
</li>
<li>
<p>Outoing Text messages</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_supervisor_resource_uri"><a class="anchor" href="#_supervisor_resource_uri"></a>Supervisor Resource URI</h3>
<div class="paragraph">
<p><strong>/2012-04-24/Accounts/{AccountSid}/Supervisor.json/metrics</strong></p>
</div>
<div class="paragraph">
<p>Will return MonitoringService metrics.</p>
</div>
<div class="paragraph">
<p>Supervisor API supports only json format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resource_properties"><a class="anchor" href="#_resource_properties"></a>Resource Properties</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LiveCallDetails</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) Set to <strong>true</strong> to get an array of live calls. Default value <strong>false</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_supported_operations"><a class="anchor" href="#_supported_operations"></a>Supported Operations</h3>
<div class="paragraph">
<p><strong>HTTP GET</strong>. Returns the monitoring service metrics in json format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_supervisor_resource_uri_2"><a class="anchor" href="#_supervisor_resource_uri_2"></a>Supervisor Resource URI</h3>
<div class="paragraph">
<p><strong>/2012-04-24/Accounts/{AccountSid}/Supervisor.json/livecalls</strong></p>
</div>
<div class="paragraph">
<p>Will return array of live calls (if any)</p>
</div>
<div class="paragraph">
<p>Supervisor API supports only json format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_supported_operations_2"><a class="anchor" href="#_supported_operations_2"></a>Supported Operations</h3>
<div class="paragraph">
<p><strong>HTTP GET</strong>. Returns the monitoring service metrics in json format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_metrics"><a class="anchor" href="#_get_metrics"></a>Get metrics</h3>
<div class="paragraph">
<p>To get the monitoring service metrics you can use the curl command bellow</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl https://&lt;accountSid&gt;:&lt;authToken&gt;@cloud.restcomm.com/restcomm/2012-04-24/Accounts/ACCOUNT_ID/Supervisor.json/metrics</pre>
</div>
</div>
<div class="paragraph">
<p>For example for the curl command below:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl https://&lt;accountSid&gt;:&lt;authToken&gt;@cloud.restcomm.com/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Supervisor.json/metrics?LiveCallDetails=true</pre>
</div>
</div>
<div class="paragraph">
<p>the monitoring service response for a Restcomm instance with 1 registered user and 2 live calls will return the following metrics:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
  {
    "InstanceId": "ID6f1e138741034df5879be5e073b018bb",
    "Version": "7.7.0",
    "Revision": "rccfa3f2159ddcabdac430de17aec05f9b0a6ea2e",
    "Metrics": {
      "TotalCallsSinceUptime": 4,
      "NoAnswerCalls": 0,
      "LiveOutgoingCalls": 0,
      "OutgoingCallsSinceUptime": 0,
      "IncomingCallsSinceUptime": 4,
      "RegisteredUsers": 1,
      "CompletedCalls": 2,
      "TextMessageOutbound": 0,
      "NotFoundCalls": 0,
      "CanceledCalls": 0,
      "FailedCalls": 0,
      "TextMessageNotFound": 0,
      "TextMessageInboundToApp": 0,
      "LiveCalls": 2,
      "BusyCalls": 0,
      "LiveIncomingCalls": 2,
      "TextMessageInboundToProxyOut": 0,
      "TextMessageInboundToClient": 0
    },
    "LiveCallDetails": [
      {
        "sid": "CA1c34db0d7ba1488a9c7eefaadc982358",
        "State": "IN_PROGRESS",
        "direction": "inbound",
        "date_created": "Mon, 30 May 2016 13:47:52 +0300",
        "from": "bob",
        "to": "1310",
        "Initial Invite": "sip:1310@127.0.0.1:5080"
      },
      {
        "sid": "CAb9fecafc42cc4ad49e0dd991f1966cc7",
        "State": "IN_PROGRESS",
        "direction": "inbound",
        "date_created": "Mon, 30 May 2016 13:47:48 +0300",
        "from": "unregistereduser",
        "to": "1310",
        "Initial Invite": "sip:1310@127.0.0.1:5080"
      }
    ]</pre>
</div>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <div class="footer-container">
    <div class="footer-column-container">
      <div class="footer-column">
        <h5 class="footer-column-title">Products</h5>
        <p><a href="programmable.html#_getting_started_with_programmable_voice">Programmable Voice</a></p>
        <p><a href="programmable.html#_getting_started_with_programmable_sms">Programmable SMS</a></p>
        <p><a href="message-exchange.html">Message Exchange</a></p>
      </div>
      <div class="footer-column">
        <h5 class="footer-column-title">Use cases</h5>
        <p><a href="https://www.restcomm.com/use-cases/two-factor-authentication-2fa/">Two-factor authentication (2FA)</a></p>
        <p><a href="https://www.restcomm.com/use-cases/phone-number-masking/">Phone number masking</a></p>
        <p><a href="https://www.restcomm.com/voicemail-using-restcomm-visual-designer/">Interactive Voicemail to Email Application</a></p>
      </div>
      <div class="footer-column">
        <h5 class="footer-column-title">Learn</h5>
        <p><a href="https://www.restcomm.com/docs">Documentation</a></p>
        <p><a href="https://www.restcomm.com/blog/">Blog</a></p>
        <p><a href="support.html">Terms And Conditions</a></p>
      </div>
      <div class="footer-column">
        <h5 class="footer-column-title">Contact us</h5>
        <p>+1 650 263 6146</p>
        <p>
          <span><a href="https://twitter.com/restcomm"><i class="fab fa-twitter"></i></a></span>
          <span><a href="https://www.linkedin.com/company/telestax"><i class="fab fa-linkedin-in"></i></a></span>
          <span><a href="https://www.facebook.com/Telestax/"><i class="fab fa-facebook-f"></i></a></span>
          <span><a href="https://www.youtube.com/channel/UCrZ-J48d3AdwGdL01XuZKZQ"><i class="fab fa-youtube"></i></a></span>
          <span><a href="https://plus.google.com/+Restcomm"><i class="fab fa-google-plus-g"></i></a></span>
          <span><a href="https://www.restcomm.com/blog/"><i class="fas fa-rss"></i></a></span>
        </p>
      </div>
    </div>
    <div class="footer-bottom-container">
      <div class="footer-logo">
        <a class="footer-logo-link" href="https://telestax.com"></a>
      </div>
      <div class="footer-copyright">
        <p class="footer-copyright-paragraph">COPYRIGHT © 2018, TELESTAX INC., ALL RIGHTS RESERVED.</p>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<!--
  Tried to get this chunk into js/05-countly.js but it has some issues with the async loading so fell back to putting it here
  where it works for some reason
-->
  <!-- Only enable countly if the key is set -->
  <script type='text/javascript' src='https://cdn.jsdelivr.net/countly-sdk-web/latest/countly.min.js'></script>
  <script>
    var Countly = Countly || {}
    Countly.q = Countly.q || []

    // provide countly initialization parameters
    Countly.app_key = '56bdc77c4c53e32ebd439e2586dd4ee22b3d3ad0'
    Countly.url = 'https://restcomm.count.ly'

    Countly.q.push(['track_sessions'])
    Countly.q.push(['track_pageview'])
    Countly.q.push(['track_clicks'])
    Countly.q.push(['track_errors'])
    Countly.q.push(['track_links'])
    Countly.q.push(['track_forms'])
    Countly.q.push(['collect_from_forms'])

    // send event
    Countly.q.push(['add_event', {
      key: 'Restcomm CSPs Documentation',
      segmentation: {},
    }]);

    // load countly script asynchronously
    (function () {
      var cly = document.createElement('script')
      cly.type = 'text/javascript'
      cly.async = true
      // enter url of script here
      cly.src = 'https://cdn.jsdelivr.net/countly-sdk-web/latest/countly.min.js'
      cly.onload = function () {
        Countly.init()
      }
      var s = document.getElementsByTagName('script')[0]
      s.parentNode.insertBefore(cly, s)
    })()
  </script>


  </body>
</html>
