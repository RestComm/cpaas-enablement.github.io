<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restcomm API – USSD Push :: Restcomm CPaaS Enablement Docs</title>
    <link rel="canonical" href="https://www.restcomm.com/docs/Restcomm-CSP/1.0/api/ussd-push-api.html">
    <meta name="generator" content="Antora 1.1.1">
    <link rel="icon" type="image/png" href="../../../_/img/favicon.png"/>
    <link rel="stylesheet" href="../../../_/css/site.css">
    <!-- Right now for demo purposes I'm using google icons, but once we finalize design might be different -->
    <!-- Not using it for now
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
    -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
      </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
<!--
      <a class="navbar-item" href="https://www.restcomm.com/docs"><img width="140px" src="../../../_/img/restcomm-logo-white.svg"></a>
-->
      <a class="navbar-item header-logo-link" href="https://www.restcomm.com/docs"></a>
<!--
      <a class="navbar-item" href="https://www.restcomm.com/docs">Restcomm CPaaS Enablement Docs</a>
-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <!-- TODO: Bring back when we integrate with searching facilities
        <a class="navbar-item" href="#"><i class="material-icons">search</i></a>
        -->
        <a class="navbar-item" href="https://cloud.restcomm.com/#/login">Sign in</a>
        <div class="navbar-item">
          <span>
            <a id="signup" class="button" href="https://cloud.restcomm.com/#/signup">Sign up</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>

<div class="main-wrapper">
<div class="navigation-container" data-component="Restcomm-CSP" data-version="1.0" >
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Restcomm CPaaS Enablement Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="voice-category.html">Voice</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="calls-api.html">Calls</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="recordings-api.html">Recordings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="clients-api.html">Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="conferences-api.html">Conference</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="participants-api.html">Participants</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="incoming-phone-numbers-api.html">Incoming Phone Numbers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sms-category.html">SMS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="sms.html">Messages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sms.html#_send_sms">Send SMS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sms.html#_get_sms_list">Get SMS List</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sms.html#_get_single_sms_information">Get single SMS Information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sms.html#_sms_attributes">SMS Attributes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="numbers.html">Numbers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="rcml-category.html">RCML</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dial.html">Dial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="numbers.html">Number</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gather.html">SIP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gather.html">Gather</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#">say.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="play.html">Play</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore" style="display: none;">
  <div class="context">
    <span class="title">Restcomm CPaaS Enablement Docs</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Restcomm CPaaS Enablement Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">Restcomm CPaaS Enablement Docs</a></li>
    <li class="crumb"><a href="ussd-push-api.html">Restcomm API – USSD Push</a></li>
  </ul>
</nav>
</div>
<article class="doc ">
  <h1>Restcomm API – USSD Push</h1>
<div class="sect1">
<h2 id="_ussdpush"><a class="anchor" href="#_ussdpush"></a>UssdPush</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <strong>UssdPush</strong> resource represents a message sent from Restcomm-Connetc to a USSD Gateway.</p>
</div>
<div class="sect2">
<h3 id="_ussdpush_resource_uri"><a class="anchor" href="#_ussdpush_resource_uri"></a>UssdPush Resource URI</h3>
<div class="paragraph">
<p><strong>/2012-04-24/Accounts/{AccountSid}/UssdPush</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_supported_operations"><a class="anchor" href="#_supported_operations"></a>Supported Operations</h3>
<div class="paragraph">
<p><strong>HTTP POST</strong> sends a USSD message to the configured USSD Gateway</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_of_ussdpush"><a class="anchor" href="#_example_of_ussdpush"></a>Example of UssdPush</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The USSD Gateway to which Restcomm must send the USSD message must be configured in the restcomm.xml file. IP address and port must be configured (i.e. they are mandatory). Username/password for the USSD are optional.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    &lt;!-- TelScale USSD Gateway --&gt;
    &lt;ussd-gateway&gt;
        &lt;ussd-gateway-uri&gt;IP_USSD_GW:PORT_NUMBER&lt;/ussd-gateway-uri&gt;
        &lt;ussd-gateway-user&gt;&lt;/ussd-gateway-user&gt;
        &lt;ussd-gateway-password&gt;&lt;/ussd-gateway-password&gt;
    &lt;/ussd-gateway&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>See below a general curl example for the USSD Push to the destination number 13019007654 (the MSISDN that will receive the USSD push session or notification according to YOUR_USSD_APP logic).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST -H "application/json" https://&lt;accountSid&gt;:&lt;authToken&gt;@cloud.restcomm.com/restcomm//2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/UssdPush -d "From=Restcomm" -d "To=13019007654" -d "Url=https://cloud.restcomm.com/visual-designer/services/apps/YOUR_USSD_APP/controller"</pre>
</div>
</div>
<div class="paragraph">
<p>For example, let&#8217;s assume Restcomm-Connect runs over IP address 10.20.42.161 and HTTPS is disabled. So, assuming Restcomm-Connect HTTP default port is left to 8080, the following shows a curl example for a USSD Push session or notification sent to MSISDN 99077937, where YOUR_USSD_APP is an RVD project identified by AP8945ca7c0a534b1c8ec9c82b4e999a8c and YOUR_PWD equals the authorization token f8bc1274677b173d1a1cf3b9924eaa7e:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST -H "application/json" http://ACae6e420f425248d6a26948c17a9e2acf:f8bc1274677b173d1a1cf3b9924eaa7e@cloud.restcomm.com/restcomm/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/UssdPush.json -d "From=myRestcommPushUssdApp" -d "To=99077937" -d "Url=http://cloud.restcomm.com/visual-designer/services/apps/AP8945ca7c0a534b1c8ec9c82b4e999a8c/controller"</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the previous example differs from the general one not only by the fact that HTTP is used instead of HTTPS (then port is provided), but also by using json format. Then, a json answer like the following should be displayed (otherwise, an analogous XML answer would be displayed):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "sid": "ID6f9befbbcbb4467d9e165353da159e70-CAe2d63be956d04c1ea86f8419a0212f14",
  "InstanceId": "ID6f9befbbcbb4467d9e165353da159e70",
  "date_created": "Mon, 25 Sep 2017 00:21:43 -0300",
  "date_updated": "Mon, 25 Sep 2017 00:21:43 -0300",
  "account_sid": "ACae6e420f425248d6a26948c17a9e2acf",
  "to": "99077937",
  "from": "USSD REST API",
  "status": "QUEUED",
  "price_unit": "USD",
  "direction": "outbound-api",
  "api_version": "2012-04-24",
  "uri": "/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/ID6f9befbbcbb4467d9e165353da159e70-CAe2d63be956d04c1ea86f8419a0212f14.json",
  "subresource_uris": {
    "notifications": "/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/ID6f9befbbcbb4467d9e165353da159e70-CAe2d63be956d04c1ea86f8419a0212f14/Notifications.json",
    "recordings": "/2012-04-24/Accounts/ACae6e420f425248d6a26948c17a9e2acf/Calls/ID6f9befbbcbb4467d9e165353da159e70-CAe2d63be956d04c1ea86f8419a0212f14/Recordings.json"
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Once the USSD Push session or notification is ended (by either the user or the application, status will transition from queued to completed.</p>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <div class="footer-container">
    <div class="footer-column-container">
      <div class="footer-column">
        <h5 class="footer-column-title">Products</h5>
        <p><a href="programmable.html#_getting_started_with_programmable_voice">Programmable Voice</a></p>
        <p><a href="programmable.html#_getting_started_with_programmable_sms">Programmable SMS</a></p>
        <p><a href="message-exchange.html">Message Exchange</a></p>
      </div>
      <div class="footer-column">
        <h5 class="footer-column-title">Use cases</h5>
        <p><a href="https://www.restcomm.com/use-cases/two-factor-authentication-2fa/">Two-factor authentication (2FA)</a></p>
        <p><a href="https://www.restcomm.com/use-cases/phone-number-masking/">Phone number masking</a></p>
        <p><a href="https://www.restcomm.com/voicemail-using-restcomm-visual-designer/">Interactive Voicemail to Email Application</a></p>
      </div>
      <div class="footer-column">
        <h5 class="footer-column-title">Learn</h5>
        <p><a href="https://www.restcomm.com/docs">Documentation</a></p>
        <p><a href="https://www.restcomm.com/blog/">Blog</a></p>
        <p><a href="support.html">Terms And Conditions</a></p>
      </div>
      <div class="footer-column">
        <h5 class="footer-column-title">Contact us</h5>
        <p>+1 650 263 6146</p>
        <p>
          <span><a href="https://twitter.com/restcomm"><i class="fab fa-twitter"></i></a></span>
          <span><a href="https://www.linkedin.com/company/telestax"><i class="fab fa-linkedin-in"></i></a></span>
          <span><a href="https://www.facebook.com/Telestax/"><i class="fab fa-facebook-f"></i></a></span>
          <span><a href="https://www.youtube.com/channel/UCrZ-J48d3AdwGdL01XuZKZQ"><i class="fab fa-youtube"></i></a></span>
          <span><a href="https://plus.google.com/+Restcomm"><i class="fab fa-google-plus-g"></i></a></span>
          <span><a href="https://www.restcomm.com/blog/"><i class="fas fa-rss"></i></a></span>
        </p>
      </div>
    </div>
    <div class="footer-bottom-container">
      <div class="footer-logo">
        <a class="footer-logo-link" href="https://telestax.com"></a>
      </div>
      <div class="footer-copyright">
        <p class="footer-copyright-paragraph">COPYRIGHT © 2018, TELESTAX INC., ALL RIGHTS RESERVED.</p>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<!--
  Tried to get this chunk into js/05-countly.js but it has some issues with the async loading so fell back to putting it here
  where it works for some reason
-->
  <!-- Only enable countly if the key is set -->
  <script type='text/javascript' src='https://cdn.jsdelivr.net/countly-sdk-web/latest/countly.min.js'></script>
  <script>
    var Countly = Countly || {}
    Countly.q = Countly.q || []

    // provide countly initialization parameters
    Countly.app_key = '56bdc77c4c53e32ebd439e2586dd4ee22b3d3ad0'
    Countly.url = 'https://restcomm.count.ly'

    Countly.q.push(['track_sessions'])
    Countly.q.push(['track_pageview'])
    Countly.q.push(['track_clicks'])
    Countly.q.push(['track_errors'])
    Countly.q.push(['track_links'])
    Countly.q.push(['track_forms'])
    Countly.q.push(['collect_from_forms'])

    // send event
    Countly.q.push(['add_event', {
      key: 'Restcomm CSPs Documentation',
      segmentation: {},
    }]);

    // load countly script asynchronously
    (function () {
      var cly = document.createElement('script')
      cly.type = 'text/javascript'
      cly.async = true
      // enter url of script here
      cly.src = 'https://cdn.jsdelivr.net/countly-sdk-web/latest/countly.min.js'
      cly.onload = function () {
        Countly.init()
      }
      var s = document.getElementsByTagName('script')[0]
      s.parentNode.insertBefore(cly, s)
    })()
  </script>


  </body>
</html>
